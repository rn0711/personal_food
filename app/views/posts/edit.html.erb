<%# cssは投稿する画面のものを併用する。app/assets/stylesheets/posts/new.css %>
<%= render "shared/header" %>

<div class="posts-contents">
  <div class="posts-main">
    <h2 class="posts-title">編集する</h2>
    <%= form_with model: @post, local: true do |f| %>

    <%= render 'shared/error_messages', model: f.object %>

    <%# 投稿のカテゴリー %>
    <div class="posts-detail">
      <div class="weight-bold-text">投稿のカテゴリー</div>
      <div class="form">
        <div class="weight-bold-text">
          カテゴリー
          <span class="indispensable">必須</span>
        </div>
        <%= f.collection_select(:category_id, Category.all, :id, :name, {}, {class:"select-box", id:"post-category"}) %>
      </div>
      </div>
    <%# /投稿のカテゴリー %>

    <%# 投稿タイトル %>
    <div class="post-title">
      <div class="weight-bold-text">
        タイトル名
        <span class="indispensable">必須</span>
      </div>
      <%= f.text_area :title, class:"posts-text", id:"post-name", placeholder:"タイトル名（必須 40文字まで)", maxlength:"40" %>
    </div>
    <%# /投稿タイトル %>

    <%# 投稿画像 %>
    <div class="img-upload">
      <div class="weight-bold-text">
        投稿画像
        <span class="indispensable">必須</span>
      </div>
      <div class="click-upload">
        <p>
          クリックしてファイルをアップロード
        </p>
        <%= f.file_field :image, id:"post-image" %>
      </div>
    </div>
    <%# /投稿画像 %>

    <%# 投稿テキスト %>
      <div class="weight-bold-text">
        テキスト
        <span class="indispensable">必須</span>
      </div>
      <%= f.text_area :text, class:"posts-text", id:"post-info", placeholder:"レシピやおすすめ商品の紹介、食事記録やメッセージなど（必須1,000文字まで）" ,rows:"7" ,maxlength:"1000" %>
    <%# /投稿テキスト %>

    <%# 下部ボタン %>
    <div class="post-btn-contents">
      <%= f.submit "変更する", class:"post-btn" %>
      <%=link_to 'もどる', posts_path, class:"back-btn" %>
    </div>
    <%# /下部ボタン %>
    
  </div>
  <% end %>
</div>

<%= render "shared/footer" %>